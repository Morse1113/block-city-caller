<!DOCTYPE html>
<html>
<head>
	<title>caller test</title>
	<script src="https://unpkg.com/blockcity-js-sdk/dist/blockcity-js-sdk.min.js"></script>
</head>
<body>
	<h1>test auth</h1>
	<button onclick="callAuth()">call auth</button>

	<h1>test contract</h1>
	<button class="btn" onclick="callContract()">call contract</button>

	<script type="text/javascript">
		function callAuth() {
			BlockCity.callAuth({
			    authItem: 'account',
			    success: function (res) {
			        alert('成功回调' + res);
			    },
			    fail: function (res) {
			        alert('分享失败' + res);
			    },
			    cancel: function (res) {
			        alert('用户取消' + res);
			    }
			});
		}

		function callContract() {
			alert('开始调用合约函数');
			BlockCity.callContract({
			    contractName: 'hi-hello',       // 智能合约账户名
			    // amount: {                   // 发送资产对象 (Optional，需发送资产，则传入资产对象)
			    //     asset_id: '1.3.1',      // 资产ID
			    //     amount: 100000          // 资产数量（需保留精度，如发送1GXC,则传入100000）
			    // },
			    methodName: 'hi',      // 智能合约函数名
			    methodParams: {
			    	user: 'morse'
			    },           // 智能合约函数传参
			    success: function (result) {
			        alert('成功：' + result);
			    },
			    fail: function (result) {
			        alert('失败：' + result);
			    },
			    cancel: function (result) {
			        alert('取消：' + result);
			    }
			});
		}
	</script>

	<style type="text/css">
		button {
			width: 90px;
			height: 40px;
		}
	</style>
</body>
</html>